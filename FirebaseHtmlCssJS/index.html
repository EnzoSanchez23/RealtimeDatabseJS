<!DOCTYPE html>
<html lang="en" style="cursor: url('/Styles/cursor.png'), default;">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="Styles/style.css">
    <title>FireBase</title>
</head>

<body>

    <h1 id="H1">Realtime Database - Firebase</h1>
    <div id="DadosDIV">
        <input type="number" id="inputId" placeholder="Id" min="0">
        <br>
        <input id="inputName" placeholder="Nome">
        <br>
        <input type="number" id="inputAge" placeholder="Idade" min="0">
        <br>
        <button onclick="salvarDado()" id="btnSalvaDado"> Salvar Dado </button>
        <br><br>
        <input id="removeId" placeholder="Id para remover">
        <br>
        <button onclick="removerDado()" id="btnRemoveID"> Remover Dado </button>
    </div>

    <div id="TableDIV">
        <button onclick="showComRemocao()"> Mostrar Tabela </button>
        <button onclick="esconderTabela()"> Esconder Tabela </button>
        <br><br>

        <table id="TableContainer" style="border: 1.5px black solid;">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Idade</th>
                    <th>Remoção</th>
                </tr>
            </thead>

            <tbody>

            </tbody>
        </table>

    </div>


    <script type="module">

        //import { initializeApp } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js";
        //import { getDatabase, ref, set, onValue, remove } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-database.js";

        //const firebaseConfig = {
        //    apiKey: "AIzaSyCCK05yar8RBcc2vePyy0TMmmoJf54Mdjw",
        //    authDomain: "fir-htmlcssjs.firebaseapp.com",
        //    databaseURL: "https://fir-htmlcssjs-default-rtdb.firebaseio.com/",
        //    projectId: "fir-htmlcssjs",
        //    storageBucket: "fir-htmlcssjs.appspot.com",
        //    messagingSenderId: "772197332474",
        //    appId: "1:772197332474:web:53ee0bc01dc14041fb2043",
        //    measurementId: "G-S46KVBLWQ7"
        //};

        // Initialize Firebase
        //const app = initializeApp(firebaseConfig);
        //const db = getDatabase(app);


        //window.salvarDado = () => salvarDado();
        //window.mostrarTabela = () => mostrarTabela();
        //window.esconderTabela = () => esconderTabela();
        //window.removerDado = () => removerDado();

        //function salvarDado() {
        //    let inputId = document.getElementById("inputId").value;
        //    let inputName = document.getElementById("inputName").value;
        //    let inputAge = document.getElementById("inputAge").value;
        //    set(ref(db, 'UserID/' + inputId), {
        //        ID: inputId,
        //        username: inputName,
        //        age: inputAge
        //    })
        //    console.log("Dado Salvo");

        //}

        //function removerDado(){
        //    let inputRemove = document.getElementById("removeId").value;
        //    remove(ref(db, "UserID/" +  inputRemove))
        //    .then( ()=>{
        //        console.log("Id Removido");
        //    } )
        //    .catch( (error) => {
        //        console.log("Erro");
        //    } );
        //}

        //function mostrarTabela() {
        //    let txtId = document.getElementById("text");
        //    const listDB = ref(db, 'UserID/');
        //    onValue( listDB, (snapshot)=>{
        //        const dado = snapshot.val();
        //        txtId.innerHTML = JSON.stringify(dado, undefined, 2);
        //    });
        //}

        //function esconderTabela() {
        //    let txtId = document.getElementById("text");
        //    txtId.innerHTML = " ";
        //}



    </script>

    <script type="module" src="JavaScript/FirebaseConfig.js"></script>
    <script type="module" src="JavaScript/script.js"></script>


</body>

</html>